@if (!option().readonly) {
  <div thyStopPropagation>
    @if (multiple()) {
      <label
        class="mr-2"
        thyCheckbox
        [disabled]="option().disabled"
        [name]="option().value || option()._id"
        [thyIndeterminate]="halfSelected()"
        [ngModel]="selected()"
        (ngModelChange)="toggleOption($event)"></label>
    }
    @if (!multiple() && !isOnlySelectLeaf()) {
      <label
        class="mr-2"
        thyRadio
        [disabled]="option().disabled"
        [name]="option().value || option()._id"
        [ngModel]="selected()"
        (ngModelChange)="toggleOption($event)"></label>
    }
  </div>
}

@if (!optionRender()) {
  <span thyFlexibleText [thyTooltipContent]="option()[labelProperty()] || ''"> {{ option()[labelProperty()] || '' }}</span>
} @else {
  <ng-template [ngTemplateOutlet]="optionRender()" [ngTemplateOutletContext]="{ option: option() }"></ng-template>
}

@if (!option().isLeaf || (option().children && option().children.length) || option().loading) {
  <span class="wtf wtf-angle-right thy-cascader-menu-item-expand-icon"> </span>
}
